[2020-04-08 14:45:48,611 :: DEBUG :: test_checkifexistsvipinfo.py :: setUpModule :: 10] >>>>>setUpModule,__main__模块开始测试>>>>>
[2020-04-08 14:45:48,612 :: DEBUG :: test_checkifexistsvipinfo.py :: setUpClass :: 20] >>>>>setUpClass,测试类Testcheckifexistsvipinfo开始测试>>>>>
[2020-04-08 14:45:48,691 :: DEBUG :: connectionpool.py :: _new_conn :: 205] Starting new HTTP connection (1): 192.168.0.190:80
[2020-04-08 14:45:48,756 :: DEBUG :: connectionpool.py :: _make_request :: 393] http://192.168.0.190:80 "GET /r5api/rest/exterbill/checkifexistsvipinfo?access_token=c81e728d9d4c2f636f067f89cc14862c&shopcode=010101&operator=001&mobiletel=15914331626&vipinfoid=&vipname= HTTP/1.1" 200 1055
[2020-04-08 14:45:48,760 :: INFO :: log.py :: log_case_info :: 21] 测试用例：case01
[2020-04-08 14:45:48,760 :: INFO :: log.py :: log_case_info :: 22] url：http://192.168.0.190/r5api/rest/exterbill/checkifexistsvipinfo
[2020-04-08 14:45:48,760 :: INFO :: log.py :: log_case_info :: 23] 请求参数：{'access_token': 'c81e728d9d4c2f636f067f89cc14862c', 'shopcode': '010101', 'operator': '001', 'mobiletel': '15914331626', 'vipinfoid': '', 'vipname': ''}
[2020-04-08 14:45:48,760 :: INFO :: log.py :: log_case_info :: 24] 实际结果：{
  "code": "200",
  "data": {
    "code": "200",
    "costtime": 0,
    "data": {
      "CARDID": "101201",
      "CARDLEVEL": "006",
      "DISCOUNTRATE": 0.0,
      "EXCHANGEINTEGRAL": 0.0,
      "FLYMAIL": "oZBry1eNDKtho5CE67KUCONWgydQ",
      "INTEGRAL": 657981.0,
      "LASTINTEGRAL": 0.0,
      "LASTTIME": "2020-03-20 08:35:47",
      "MOBILETEL": "15914331626",
      "OPERATOR": "001",
      "PUTOUTDATE": "2019-06-26 11:23:06",
      "PUTOUTMODE": "APP",
      "REBATEINTEGRAL": 7072.0,
      "REMARK": "crm3:1448902",
      "SALEMANNAME": "",
      "SALEMONEY": 0.0,
      "SEX": "1",
      "SHOPCODE": "010101",
      "STATUS": "1",
      "TELTOTALAMOUNT": 144.0,
      "TELTOTALREALNUMBER": 150.0,
      "TELTOTALREALSUM": 172155.0,
      "TELTOTALSALEQUIT": 57.0,
      "TOTALAMOUNT": 5774.0,
      "TOTALINTEGRAL": 666843.0,
      "TOTALREALNUMBER": 5906.0,
      "TOTALREALSUM": 735365.0,
      "VALIDDATE": "2019-06-26 10:42:16",
      "VIPCARDTYPE": "1",
      "VIPCUSTTYPE": "001",
      "VIPID": 101199.0,
      "VIPINFOID": 101199.0,
      "VIPNAME": "重置的小汤"
    },
    "msg": "查询成功[会员ID=101199，会员姓名=重置的小汤，手机号码=15914331626]",
    "page": 0,
    "pagesize": 0,
    "records": 0,
    "success": true,
    "total": 0
  },
  "msg": "查询成功[会员ID=101199，会员姓名=重置的小汤，手机号码=15914331626]"
}
[2020-04-08 14:45:48,855 :: INFO :: test_checkifexistsvipinfo.py :: dbassert :: 70] [('101201', 101199, '重置的小汤', '1', '15914331626', 'crm3:1448902', 'APP', '010101', '001', '006', '1', 'oZBry1eNDKtho5CE67KUCONWgydQ', 657981, 666843, '1', 101199)]
[2020-04-08 14:45:48,856 :: INFO :: test_checkifexistsvipinfo.py :: dbassert :: 96] 》》》》》》》》》》》》》》》》》》》》》》》》》》》》》断言完成》》》》》》》》》》》》》》》》》》》》》》》》》》》》》
[2020-04-08 14:45:48,865 :: DEBUG :: connectionpool.py :: _new_conn :: 205] Starting new HTTP connection (1): 192.168.0.190:80
[2020-04-08 14:45:48,915 :: DEBUG :: connectionpool.py :: _make_request :: 393] http://192.168.0.190:80 "GET /r5api/rest/exterbill/checkifexistsvipinfo?access_token=c81e728d9d4c2f636f067f89cc14862c&shopcode=010101&operator=001&mobiletel=15914331624&vipinfoid=&vipname= HTTP/1.1" 200 151
[2020-04-08 14:45:48,917 :: INFO :: log.py :: log_case_info :: 21] 测试用例：case02
[2020-04-08 14:45:48,917 :: INFO :: log.py :: log_case_info :: 22] url：http://192.168.0.190/r5api/rest/exterbill/checkifexistsvipinfo
[2020-04-08 14:45:48,917 :: INFO :: log.py :: log_case_info :: 23] 请求参数：{'access_token': 'c81e728d9d4c2f636f067f89cc14862c', 'shopcode': '010101', 'operator': '001', 'mobiletel': '15914331624', 'vipinfoid': '', 'vipname': ''}
[2020-04-08 14:45:48,918 :: INFO :: log.py :: log_case_info :: 24] 实际结果：{
  "code": "300",
  "msg": "该手机号存在多个重复会员[101120，102410]，需要先冻结处理到只剩一条有效信息后再进行开单业务"
}
[2020-04-08 14:45:48,990 :: INFO :: test_checkifexistsvipinfo.py :: dbassert :: 94] [('101122', 101120, '汤', '1', '15914331624', None, 'APP', '010101', '001', '0', '1', None, 0, 0, '1', 101120), ('102411', 102410, '汤汤4', '0', '15914331624', None, 'PC', '020101', '02', '002', '1', None, 36484, 36560, '1', 102410)]
[2020-04-08 14:45:49,002 :: DEBUG :: connectionpool.py :: _new_conn :: 205] Starting new HTTP connection (1): 192.168.0.190:80
[2020-04-08 14:45:49,055 :: DEBUG :: connectionpool.py :: _make_request :: 393] http://192.168.0.190:80 "GET /r5api/rest/exterbill/checkifexistsvipinfo?access_token=c81e728d9d4c2f636f067f89cc14862c&shopcode=010101&operator=001&mobiletel=&vipinfoid=101199&vipname= HTTP/1.1" 200 1055
[2020-04-08 14:45:49,057 :: INFO :: log.py :: log_case_info :: 21] 测试用例：case03
[2020-04-08 14:45:49,057 :: INFO :: log.py :: log_case_info :: 22] url：http://192.168.0.190/r5api/rest/exterbill/checkifexistsvipinfo
[2020-04-08 14:45:49,058 :: INFO :: log.py :: log_case_info :: 23] 请求参数：{'access_token': 'c81e728d9d4c2f636f067f89cc14862c', 'shopcode': '010101', 'operator': '001', 'mobiletel': '', 'vipinfoid': '101199', 'vipname': ''}
[2020-04-08 14:45:49,058 :: INFO :: log.py :: log_case_info :: 24] 实际结果：{
  "code": "200",
  "data": {
    "code": "200",
    "costtime": 0,
    "data": {
      "CARDID": "101201",
      "CARDLEVEL": "006",
      "DISCOUNTRATE": 0.0,
      "EXCHANGEINTEGRAL": 0.0,
      "FLYMAIL": "oZBry1eNDKtho5CE67KUCONWgydQ",
      "INTEGRAL": 657981.0,
      "LASTINTEGRAL": 0.0,
      "LASTTIME": "2020-03-20 08:35:47",
      "MOBILETEL": "15914331626",
      "OPERATOR": "001",
      "PUTOUTDATE": "2019-06-26 11:23:06",
      "PUTOUTMODE": "APP",
      "REBATEINTEGRAL": 7072.0,
      "REMARK": "crm3:1448902",
      "SALEMANNAME": "",
      "SALEMONEY": 0.0,
      "SEX": "1",
      "SHOPCODE": "010101",
      "STATUS": "1",
      "TELTOTALAMOUNT": 144.0,
      "TELTOTALREALNUMBER": 150.0,
      "TELTOTALREALSUM": 172155.0,
      "TELTOTALSALEQUIT": 57.0,
      "TOTALAMOUNT": 5774.0,
      "TOTALINTEGRAL": 666843.0,
      "TOTALREALNUMBER": 5906.0,
      "TOTALREALSUM": 735365.0,
      "VALIDDATE": "2019-06-26 10:42:16",
      "VIPCARDTYPE": "1",
      "VIPCUSTTYPE": "001",
      "VIPID": 101199.0,
      "VIPINFOID": 101199.0,
      "VIPNAME": "重置的小汤"
    },
    "msg": "查询成功[会员ID=101199，会员姓名=重置的小汤，手机号码=15914331626]",
    "page": 0,
    "pagesize": 0,
    "records": 0,
    "success": true,
    "total": 0
  },
  "msg": "查询成功[会员ID=101199，会员姓名=重置的小汤，手机号码=15914331626]"
}
[2020-04-08 14:45:49,128 :: INFO :: test_checkifexistsvipinfo.py :: dbassert :: 70] [('101201', 101199, '重置的小汤', '1', '15914331626', 'crm3:1448902', 'APP', '010101', '001', '006', '1', 'oZBry1eNDKtho5CE67KUCONWgydQ', 657981, 666843, '1', 101199)]
[2020-04-08 14:45:49,129 :: INFO :: test_checkifexistsvipinfo.py :: dbassert :: 96] 》》》》》》》》》》》》》》》》》》》》》》》》》》》》》断言完成》》》》》》》》》》》》》》》》》》》》》》》》》》》》》
[2020-04-08 14:45:49,140 :: DEBUG :: connectionpool.py :: _new_conn :: 205] Starting new HTTP connection (1): 192.168.0.190:80
[2020-04-08 14:45:49,194 :: DEBUG :: connectionpool.py :: _make_request :: 393] http://192.168.0.190:80 "GET /r5api/rest/exterbill/checkifexistsvipinfo?access_token=c81e728d9d4c2f636f067f89cc14862c&shopcode=010101&operator=001&mobiletel=15914331234&vipinfoid=&vipname= HTTP/1.1" 200 854
[2020-04-08 14:45:49,196 :: INFO :: log.py :: log_case_info :: 21] 测试用例：case04
[2020-04-08 14:45:49,197 :: INFO :: log.py :: log_case_info :: 22] url：http://192.168.0.190/r5api/rest/exterbill/checkifexistsvipinfo
[2020-04-08 14:45:49,197 :: INFO :: log.py :: log_case_info :: 23] 请求参数：{'access_token': 'c81e728d9d4c2f636f067f89cc14862c', 'shopcode': '010101', 'operator': '001', 'mobiletel': '15914331234', 'vipinfoid': '', 'vipname': ''}
[2020-04-08 14:45:49,197 :: INFO :: log.py :: log_case_info :: 24] 实际结果：{
  "code": "200",
  "data": {
    "code": "200",
    "costtime": 0,
    "data": {
      "AREA": "R5",
      "CARDID": "108957",
      "EXCHANGEINTEGRAL": 0.0,
      "HISTORYBUYMOBILETIME": "0",
      "INTEGRAL": 0.0,
      "LASTINTEGRAL": 0.0,
      "MOBILETEL": "15914331234",
      "OPERATOR": "001",
      "PUTOUTDATE": "2020-04-01 14:29:42",
      "PUTOUTMODE": "PC",
      "REBATEINTEGRAL": 0.0,
      "SALEMANNAME": "",
      "SHOPCODE": "010101",
      "STATUS": "1",
      "TELTOTALAMOUNT": 0.0,
      "TELTOTALREALNUMBER": 0.0,
      "TELTOTALREALSUM": 0.0,
      "TELTOTALSALEQUIT": 0.0,
      "TOTALAMOUNT": 0.0,
      "TOTALINTEGRAL": 0.0,
      "TOTALREALNUMBER": 0.0,
      "TOTALREALSUM": 0.0,
      "VALIDDATE": "2020-04-01 14:29:42",
      "VIPCARDTYPE": "1",
      "VIPID": 108956.0,
      "VIPINFOID": 108956.0,
      "VIPNAME": "汤1234"
    },
    "msg": "查询成功[会员ID=108956，会员姓名=汤1234，手机号码=15914331234]",
    "page": 0,
    "pagesize": 0,
    "records": 0,
    "success": true,
    "total": 0
  },
  "msg": "查询成功[会员ID=108956，会员姓名=汤1234，手机号码=15914331234]"
}
[2020-04-08 14:45:49,272 :: INFO :: test_checkifexistsvipinfo.py :: dbassert :: 70] [('108957', 108956, '汤1234', None, '15914331234', None, 'PC', '010101', '001', None, '1', None, 0, 0, '1', 108956)]
[2020-04-08 14:45:49,273 :: INFO :: test_checkifexistsvipinfo.py :: dbassert :: 96] 》》》》》》》》》》》》》》》》》》》》》》》》》》》》》断言完成》》》》》》》》》》》》》》》》》》》》》》》》》》》》》
[2020-04-08 14:45:49,285 :: DEBUG :: connectionpool.py :: _new_conn :: 205] Starting new HTTP connection (1): 192.168.0.190:80
[2020-04-08 14:45:49,392 :: DEBUG :: connectionpool.py :: _make_request :: 393] http://192.168.0.190:80 "GET /r5api/rest/exterbill/checkifexistsvipinfo?access_token=c81e728d9d4c2f636f067f89cc14862c&shopcode=010101&operator=001&mobiletel=15946599710&vipinfoid=&vipname=%E5%B0%8F%E6%B1%A4insert HTTP/1.1" 200 113
[2020-04-08 14:45:49,393 :: INFO :: log.py :: log_case_info :: 21] 测试用例：case05
[2020-04-08 14:45:49,394 :: INFO :: log.py :: log_case_info :: 22] url：http://192.168.0.190/r5api/rest/exterbill/checkifexistsvipinfo
[2020-04-08 14:45:49,394 :: INFO :: log.py :: log_case_info :: 23] 请求参数：{'access_token': 'c81e728d9d4c2f636f067f89cc14862c', 'shopcode': '010101', 'operator': '001', 'mobiletel': '15946599710', 'vipinfoid': '', 'vipname': '小汤insert'}
[2020-04-08 14:45:49,394 :: INFO :: log.py :: log_case_info :: 24] 实际结果：{
  "code": "400",
  "msg": "新增会员成功[会员ID=109016，会员姓名=小汤insert，手机号码=15946599710]"
}
[2020-04-08 14:45:49,488 :: INFO :: test_checkifexistsvipinfo.py :: dbassert :: 96] 》》》》》》》》》》》》》》》》》》》》》》》》》》》》》断言完成》》》》》》》》》》》》》》》》》》》》》》》》》》》》》
[2020-04-08 14:45:49,492 :: DEBUG :: test_checkifexistsvipinfo.py :: tearDownClass :: 28] <<<<<tearDownClass,测试类Testcheckifexistsvipinfo3测试结束<<<<<
[2020-04-08 14:45:49,492 :: DEBUG :: test_checkifexistsvipinfo.py :: tearDownModule :: 13] <<<<<tearDownModule,__main__模块测试结束<<<<<
